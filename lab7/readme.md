###Для виконання цієї лабораторної роботи необхідно щоб 6 лабораторна була вже готова.
* Викликаємо бокове меню натиском на кнопочку “гамбургер” переходимо до самого низу і обираємо опцію `Stack Management` > `Index Patterns` > `Create index patterns`. В полі вводимо назву колекції з еластіку в яку ми записуємо дані в лабораторній номер 6. 
![alt text](http://img.empeek.net/Screenshot%202021-01-03%20at%2021.05.41.png)
![alt text](http://img.empeek.net/Screenshot%202021-01-03%20at%2021.07.07.png)
* Викликаємо бокове меню знову і клікаємо на `Visualize` в групі Kibana. Створюємо нову візуалізацію та обираємо тип `Pie chart` > Створюємо новий бакет та обираємо `Split slices` > `Aggregation`: `Terms` > `Field`: обирайте якусь метрику з нових данних, в мому випадку тип кузовів автотранспорту. Порядок можна обрати будь який, а вот в полі `Size` варто вказати те число, яке рівне кількості записів, яку ви аплоадите в `event hub`. Після заповнення всіх полей, клікаєте на Update щоб вивести дані. Якщо вивід коректний і виглядає досить “логічно” зберігаємо візуалізацію.
![alt text](http://img.empeek.net/Screenshot%202021-01-03%20at%2021.17.45.png)
* Створюємо нову візуалізацію, але на цей раз обираємо тип `Line`. В конфігураціях візуалізація натискаємо на кнопку `Add` в групі `Buckets`. Обираємо `X-axis` > `Aggregation`: `Terms` > `Field`: обираємо часову метрику з вашої колекції, в моєму випадку `crash_date`. Додаємо ще один `bucket` > `Split series` > тут налаштовуємо так само, але в полі `Fields` обираємо потрібну вам метрику з вашої колекції, по якій ви будете візуалізувати дані > Натискаємо на `Update` і якщо вивід коректний, зберігаємо візуалізацію.
![alt text](http://img.empeek.net/Screenshot%202021-01-03%20at%2021.30.54.png)
* В хедері сторінки в полі пошуку вбиваємо `Dev Tools` та обираємо сервіс. Для виводу записів в певному періоді часу використовуємо наступний запит, де `gt` i `lte` це логічні `greater than` `lower than or equal` відповідно оператори :

        GET _search
        {
          "query": {
            "bool": {
              "filter": {
                "bool": {
                  "must": [
                    {
                      "range": {
                        "map.crash_date": {
                          "gt": "2020-07-25T00:00:00",
                          "lte": "2020-08-25T00:00:00"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }   

Натискаємо на кнопочку Play в блоці з кодом, та перевіряємо чи виводяться відфільтровані дані з данного періоду часу
![alt text](http://img.empeek.net/Screenshot%202021-01-03%20at%2021.39.11.png)

* Для виводу останніх трьох записів з метрики, використовуємо наступний запит:

            GET _search
            {
            "size": 0,
            "aggs" : {
                "langs" : {
                    "terms" : { "field" : "map.contributing_factor_vehicle_3.keyword",  "size" : 3 }
                }
            }
            }

![alt text](http://img.empeek.net/Screenshot%202021-01-03%20at%2021.43.03.png)